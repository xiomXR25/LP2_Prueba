<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Inicio</title>
</head>
<link th:href="@{/css/bootstrap.min.css}" rel="stylesheet">

<body>


	<div class="container">
		<h1>Pagina de Inicio Empleado</h1>
		<!--
		<button class="btn btn-danger" data-toggle="modal" data-target="#modalRegistro">Crear Nuevo</button> <br />
		-->
		<a th:href="@{/empleado/crear}" class="btn btn-primary">Registrar Nuevo</a>
		<table class="table">
			<thead>
				<tr>
					<th scope="col">Codigo</th>
					<th scope="col">Nombre</th>
					<th scope="col">Apellido</th>
					<th scope="col">Opciones</th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="reg:${listaEmpleado}">
					<td th:text="${reg.codigo}"></td>
					<td th:text="${reg.nombre}"></td>
					<td th:text="${reg.apellido}"></td>
					<td>
						<a th:href="@{/empleado/editar/{id}(id=${reg.codigo})}"
							class="btn btn-warning btn-sm">Editar</a>
						<a th:href="@{/empleado/eliminar/codigo/{codigo}/nombre/{nombre} (codigo=${reg.codigo},nombre=${reg.nombre})  }"
							class="btn btn-danger btn-sm">Eliminar</a>
					</td>
				</tr>
			</tbody>
		</table>
	</div>


	<!--Modal-->

	<div id="modalRegistro" class="modal" tabindex="-1">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title">Formulario de Registro</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<form id="formRegistro" th:object="${empleado}" method="post" th:action="@{/empleado/crear}">
					<div class="modal-body">
						<div class="form-group">
							<label for="modalTxtCodigo">Codigo</label>
							<input type="text" class="form-control" id="modalTxtCodigo" th:field="*{codigo}">
						</div>
						<div class="form-group">
							<label for="modalTxtNombre">Nombre</label>
							<input type="text" class="form-control" id="modalTxtNombre" th:field="*{nombre}">
						</div>
						<div class="form-group">
							<label for="modalTxtApellido">Apellido</label>
							<input type="text" class="form-control" id="modalTxtApellido" th:field="*{apellido}">
						</div>

					</div>
					<div class="modal-footer">
						<button id="btnCerrar" type="button" class="btn btn-secondary"
							data-dismiss="modal">Cerrar</button>
						<button id="btnGuardar" type="button" class="btn btn-primary">Guardar</button>
					</div>
				</form>

			</div>
		</div>
	</div>

</body>
<script th:src="@{/js/jquery-3.5.1.min.js}"></script>
<!--
<script th:src="@{/js/jquery.slim.min.js}"></script>
-->
<script th:src="@{/js/popper.min.js}"></script>
<script th:src="@{/js/bootstrap.bundle.min.js}"></script>


<script>
	$(document).ready(function () {

		$("#btnGuardar").click(function () {


			$("#formRegistro").submit();
		});


	});


</script>

</html>